#!/usr/bin/env bash

set -o errexit -o pipefail

file="$(mktemp --suffix='.yaml')"
mpv-control '{"command":["get_property", "'$1'"]}' | jq '.data' | yj -jy > "$file"
"$EDITOR" "$file"
mpv-control '{"command":["set_property", "vf",'$(yj -yj < "$file")']}'
